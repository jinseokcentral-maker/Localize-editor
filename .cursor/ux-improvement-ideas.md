# i18n 에디터 UX 개선 아이디어

## 🎯 핵심 목표

- 진짜 에디터의 느낌 (vim, VS Code, Excel 등에서 영감)
- 키보드 중심 워크플로우
- 빠른 검색/필터링
- 직관적인 편집 경험

---

## 1. 명령 팔레트 (Command Palette) - vim `:` 영감

### 기능

- `Cmd/Ctrl+K` 또는 `:` 키로 명령 팔레트 열기
- 명령어 입력으로 빠른 액션 실행

### 명령어 예시

```
:search <keyword>          # 키워드로 검색
:filter <lang>             # 특정 언어만 필터링
:goto <row>                # 특정 행으로 이동 (예: :goto 100)
:empty                     # 빈 번역만 보기
:changed                   # 변경된 셀만 보기
:duplicate                 # 중복된 Key만 보기
:save                      # 저장 (변경사항 커밋)
:undo                      # Undo
:redo                      # Redo
:readonly                  # 읽기 전용 모드 토글
:help                      # 도움말
```

### 구현

- 모달 오버레이
- 자동완성 지원
- 최근 명령어 히스토리

---

## 2. 빠른 검색 (Quick Search) - vim `/` 영험

### 기능

- `/` 키로 검색 모드 진입
- 실시간 하이라이트
- `n` (next), `N` (previous)로 이동
- 검색 결과 수 표시

### 검색 옵션

```
/keyword                    # 모든 컬럼에서 검색
/key:keyword                # Key 컬럼만
/context:keyword            # Context 컬럼만
/en:keyword                 # EN 언어만
/ko:keyword                 # KO 언어만
```

### 시각적 피드백

- 매칭된 셀 하이라이트
- 검색어 하이라이트 (텍스트 내)
- 현재 매칭 위치 표시

---

## 3. 모드 시스템 (Mode System) - vim 영감

### Normal Mode (기본 모드)

- 키보드 네비게이션
- 명령 실행
- 셀 선택

### Insert Mode (편집 모드)

- 셀 편집 중
- 텍스트 입력
- `Esc`로 Normal 모드로 복귀

### Visual Mode (선택 모드)

- `v` 키로 진입
- 여러 셀 선택
- 선택된 셀 일괄 편집 가능

### 시각적 표시

- 상태바에 현재 모드 표시
- 커서 스타일 변경 (Normal: 블록, Insert: 라인)

---

## 4. 고급 키보드 단축키

### 네비게이션

```
h, j, k, l                  # vim 스타일 이동 (왼, 아래, 위, 오른)
gg                          # 첫 번째 행으로
G                           # 마지막 행으로
0                           # 행의 첫 번째 셀로
$                           # 행의 마지막 셀로
w                           # 다음 단어 (Key 컬럼 기준)
b                           # 이전 단어
```

### 편집

```
i                           # Insert 모드 진입 (현재 셀 편집)
a                           # Append 모드 (셀 끝에서 편집)
o                           # 아래에 새 행 추가
O                           # 위에 새 행 추가
dd                          # 현재 행 삭제
yy                          # 현재 행 복사
p                           # 아래에 붙여넣기
P                           # 위에 붙여넣기
u                           # Undo
Ctrl+R                      # Redo
```

### 선택 및 범위

```
v                           # Visual 모드 (셀 단위)
V                           # Visual Line 모드 (행 단위)
Ctrl+V                      # Visual Block 모드 (컬럼 단위)
```

### 검색 및 이동

```
/                           # 검색 모드
n                           # 다음 매칭
N                           # 이전 매칭
*                           # 현재 셀의 단어로 검색
#                           # 이전 매칭으로 검색
```

---

## 5. 상태바 (Status Bar)

### 표시 정보

```
[Mode] Row 42/1000 | Col: EN | 15 changes | 3 empty | 2 duplicates
```

- 현재 모드 (Normal/Insert/Visual)
- 현재 행/전체 행 수
- 현재 컬럼
- 변경사항 수
- 빈 번역 수
- 중복 Key 수

### 위치

- 화면 하단 고정
- 반투명 배경
- 작은 폰트

---

## 6. 인라인 편집 개선

### 멀티라인 편집

- `Shift+Enter`로 줄바꿈
- 텍스트 영역 자동 확장
- 스크롤 가능한 편집 영역

### 자동완성

- Key 입력 시 자동완성 제안
- `Tab`으로 제안 수락
- 이전 번역 히스토리 기반 제안

### 스마트 편집

- 자동 인용부호 매칭
- 자동 들여쓰기
- 변수 치환 하이라이트 (예: `{name}`, `%s`)

---

## 7. 찾기/바꾸기 (Find & Replace)

### 기능

- `Cmd/Ctrl+F`로 찾기
- `Cmd/Ctrl+H`로 바꾸기
- 정규식 지원
- 범위 선택 (현재 행, 선택 영역, 전체)

### 옵션

- 대소문자 구분
- 전체 단어만
- 정규식 모드

---

## 8. 북마크 (Bookmarks)

### 기능

- `m` + `a-z`로 북마크 설정
- `` ` `` + `a-z`로 북마크로 이동
- 북마크 목록 표시

### 사용 사례

- 자주 편집하는 행에 북마크
- 검토가 필요한 행에 북마크
- 빠른 이동

---

## 9. 히스토리/타임라인

### 기능

- 각 셀의 편집 히스토리
- `Cmd/Ctrl+Shift+H`로 히스토리 보기
- 이전 값으로 되돌리기
- 변경 시간 표시

### 시각화

- 타임라인 뷰
- 변경사항 diff 표시

---

## 10. 컨텍스트 메뉴 개선

### 우클릭 메뉴

- 복사/붙여넣기
- 삭제
- 행 추가/삭제
- 언어별 번역 복사
- 번역 히스토리 보기
- 북마크 설정

---

## 11. 키보드 단축키 레이어

### 글로벌 단축키 (에디터 포커스 시)

```
Cmd/Ctrl+K                  # 명령 팔레트
Cmd/Ctrl+F                  # 찾기
Cmd/Ctrl+H                  # 바꾸기
Cmd/Ctrl+G                  # 행으로 이동
Cmd/Ctrl+P                  # 빠른 열기 (파일/키 검색)
```

### 셀 편집 중

```
Cmd/Ctrl+Enter              # 다음 셀로 이동하며 저장
Shift+Enter                 # 줄바꿈
Tab                         # 자동완성 수락
Esc                         # 편집 취소
```

---

## 12. 시각적 개선

### 포커스 표시

- 현재 셀 강조 (두꺼운 테두리)
- 현재 행 하이라이트
- 현재 컬럼 하이라이트 (옵션)

### 변경사항 표시

- 변경된 셀: 노란색 배경
- 빈 번역: 빨간색 배경
- 중복 Key: 빨간색 테두리

### 검색 하이라이트

- 매칭된 텍스트 하이라이트
- 현재 매칭 위치 강조

---

## 13. 성능 최적화

### 가상 스크롤링 개선

- 이미 구현됨 ✅
- 추가: 스크롤 시 부드러운 애니메이션

### 지연 로딩

- 대량 데이터 시 페이지네이션
- 필요 시에만 데이터 로드

---

## 14. 접근성

### 키보드 접근성

- 모든 기능 키보드로 접근 가능
- 포커스 표시 명확
- 스크린 리더 지원

### 단축키 도움말

- `?` 키로 단축키 목록 표시
- 컨텍스트별 도움말

---

## 구현 우선순위

### Phase 1 (핵심 기능)

1. ✅ 기본 키보드 네비게이션 (이미 구현)
2. 명령 팔레트 (`Cmd+K`)
3. 빠른 검색 (`/`)
4. 상태바

### Phase 2 (편집 경험)

5. 모드 시스템 (Normal/Insert)
6. vim 스타일 단축키 (hjkl)
7. 찾기/바꾸기
8. 멀티라인 편집

### Phase 3 (고급 기능)

9. Visual 모드 (셀 선택)
10. 북마크
11. 히스토리 뷰
12. 자동완성

---

## 기술적 고려사항

### 상태 관리

- 모드 상태 (Normal/Insert/Visual)
- 검색 상태
- 선택 상태

### 이벤트 처리

- 키보드 이벤트 우선순위
- 브라우저 기본 동작 방지
- IME (입력기) 호환성

### 성능

- 대량 데이터 처리
- 실시간 검색 최적화
- 렌더링 최적화

---

## 참고 영감

- **Vim**: 모드 시스템, 명령어, 키보드 중심
- **VS Code**: 명령 팔레트, 빠른 열기
- **Excel**: 셀 편집, 수식 입력
- **Notion**: 인라인 편집, 블록 편집
- **Obsidian**: 명령 팔레트, 키보드 단축키
