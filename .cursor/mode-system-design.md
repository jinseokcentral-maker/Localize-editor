# 모드 시스템 설계 - 사용자 친화적 접근

## 🎯 문제점

- Vim 모드는 강력하지만 학습 곡선이 있음
- 모든 사용자가 vim에 익숙하지 않음
- 다양한 사용자 그룹이 있음 (일반 사용자, 개발자, 파워 유저)

## 💡 해결책: 선택 가능한 모드 시스템

사용자가 자신에게 맞는 모드를 선택할 수 있도록 **4가지 모드** 제공

---

## 📋 모드 종류

### 1. **Excel 모드** (기본, 가장 친숙) ⭐ 추천 기본값

#### 특징

- Excel과 동일한 키보드 동작
- 직관적이고 학습 곡선이 낮음
- 대부분의 사용자가 즉시 사용 가능

#### 키보드 동작

```
더블클릭 / F2          편집 시작
Enter                  아래 셀로 이동 (저장)
Tab                    오른쪽 셀로 이동 (저장)
Shift+Tab              왼쪽 셀로 이동 (저장)
Arrow keys             셀 간 이동 (편집 안 함)
Esc                    편집 취소
Delete                 셀 내용 삭제
Cmd/Ctrl+C             복사
Cmd/Ctrl+V             붙여넣기
Cmd/Ctrl+Z             Undo
Cmd/Ctrl+Y             Redo
Cmd/Ctrl+F             찾기
Cmd/Ctrl+K             명령 팔레트 (선택적)
```

#### 장점

- ✅ 즉시 사용 가능 (학습 불필요)
- ✅ Excel 사용자에게 친숙
- ✅ 직관적인 동작

#### 단점

- ❌ vim만큼 빠르지 않음
- ❌ 일부 고급 기능 제한

#### 대상 사용자

- 일반 사용자
- Excel 사용자
- 비개발자
- 처음 사용하는 사용자

---

### 2. **VS Code 모드** (중간 난이도)

#### 특징

- VS Code 에디터와 유사한 동작
- 명령 팔레트 중심 워크플로우
- 개발자에게 친숙

#### 키보드 동작

```
더블클릭 / F2          편집 시작
Enter                  아래 셀로 이동 (저장)
Tab                    오른쪽 셀로 이동 (저장)
Arrow keys             셀 간 이동
Cmd/Ctrl+K             명령 팔레트 (핵심 기능)
Cmd/Ctrl+F             찾기
Cmd/Ctrl+H             바꾸기
Cmd/Ctrl+G             행으로 이동
Cmd/Ctrl+P             빠른 검색/이동
Cmd/Ctrl+Enter         다음 셀로 이동하며 저장
Esc                    편집 취소
Cmd/Ctrl+Z             Undo
Cmd/Ctrl+Y             Redo
```

#### 장점

- ✅ 개발자에게 친숙
- ✅ 명령 팔레트 활용
- ✅ 빠른 액션 가능

#### 단점

- ❌ 비개발자에게는 생소할 수 있음

#### 대상 사용자

- 개발자
- VS Code 사용자
- 명령 팔레트를 선호하는 사용자

---

### 3. **Vim 모드** (고급)

#### 특징

- vim의 모드 시스템
- 가장 빠른 워크플로우
- 파워 유저를 위한 모드

#### 키보드 동작

```
i                      Insert 모드 진입 (편집)
Esc                    Normal 모드로 복귀
h, j, k, l             이동 (왼, 아래, 위, 오른)
Enter                  아래 셀로 이동 (Normal 모드)
Tab                    오른쪽 셀로 이동 (Normal 모드)
gg                     첫 번째 행
G                      마지막 행
/                      검색
:                      명령어
v                      Visual 모드 (셀 선택)
dd                     행 삭제
yy                     행 복사
p                      붙여넣기
u                      Undo
Ctrl+R                 Redo
```

#### 장점

- ✅ 가장 빠른 워크플로우
- ✅ 키보드만으로 모든 작업 가능
- ✅ 파워 유저에게 최적

#### 단점

- ❌ 학습 곡선이 높음
- ❌ 초보자에게는 어려움

#### 대상 사용자

- vim 사용자
- 파워 유저
- 키보드 중심 작업을 선호하는 사용자

---

### 4. **하이브리드 모드** (추천) ⭐ 최적의 기본값

#### 특징

- 기본은 Excel 모드
- vim 단축키를 보조로 사용 가능
- 점진적 학습 가능

#### 키보드 동작

```
[Excel 모드 기본 동작]
더블클릭 / F2          편집 시작
Enter                  아래 셀로 이동 (저장)
Tab                    오른쪽 셀로 이동 (저장)
Arrow keys             셀 간 이동

[선택적 vim 단축키]
hjkl                    이동 (보조, 선택적 사용)
/                       검색 (vim 스타일)
:                       명령 팔레트 (vim 스타일)
gg/G                    빠른 이동 (선택적)
```

#### 장점

- ✅ Excel 모드의 친숙함
- ✅ 필요 시 vim 단축키 사용 가능
- ✅ 점진적 학습 가능
- ✅ 모든 사용자 그룹에 적합

#### 단점

- ❌ 단축키 충돌 가능성 (하지만 선택적이므로 문제 없음)

#### 대상 사용자

- **모든 사용자** (기본값으로 추천)
- Excel 사용자
- vim을 배우고 싶은 사용자

---

## 🎨 모드 선택 UI

### 설정 방법

#### 방법 1: 설정 메뉴

```
Cmd/Ctrl+,              설정 열기
→ "Editor Mode" 선택
→ Excel / VS Code / Vim / Hybrid 선택
```

#### 방법 2: 명령 팔레트

```
Cmd/Ctrl+K
→ "mode excel" 입력
→ "mode vscode" 입력
→ "mode vim" 입력
→ "mode hybrid" 입력
```

#### 방법 3: 상태바 클릭

- 상태바의 현재 모드 표시 클릭
- 드롭다운에서 모드 선택

### 모드 전환 시

- 간단한 안내 메시지 표시
- 주요 단축키 요약 표시
- "다시 보지 않기" 옵션

---

## 📊 모드별 비교표

| 기능           | Excel 모드   | VS Code 모드 | Vim 모드      | 하이브리드 모드 |
| -------------- | ------------ | ------------ | ------------- | --------------- |
| 학습 곡선      | ⭐ 매우 낮음 | ⭐⭐ 낮음    | ⭐⭐⭐⭐ 높음 | ⭐ 낮음         |
| 즉시 사용 가능 | ✅           | ✅           | ❌            | ✅              |
| Excel 친화적   | ✅✅✅       | ✅           | ❌            | ✅✅            |
| 개발자 친화적  | ✅           | ✅✅✅       | ✅✅          | ✅✅            |
| 파워 유저      | ❌           | ✅✅         | ✅✅✅        | ✅✅            |
| 명령 팔레트    | 선택적       | 핵심         | 핵심          | 선택적          |
| vim 단축키     | ❌           | ❌           | ✅✅✅        | 선택적          |
| 기본값 추천    | ⭐⭐         | ⭐           | ⭐            | ⭐⭐⭐          |

---

## 🚀 구현 전략

### Phase 1: 모드 시스템 기반 구축

1. 모드 타입 정의 (Excel, VSCode, Vim, Hybrid)
2. 모드별 키보드 핸들러 분리
3. 모드 전환 로직
4. 설정 저장 (localStorage)

### Phase 2: Excel 모드 완성

1. F2 편집 시작
2. Excel 스타일 네비게이션
3. Enter/Tab 동작

### Phase 3: VS Code 모드

1. 명령 팔레트 통합
2. Cmd/Ctrl+P 빠른 검색
3. Cmd/Ctrl+G 행 이동

### Phase 4: Vim 모드

1. Normal/Insert/Visual 모드
2. hjkl 네비게이션
3. : 명령어

### Phase 5: 하이브리드 모드

1. Excel 기본 + vim 보조
2. 점진적 학습 지원

---

## 💡 추천 기본값

### **하이브리드 모드**를 기본값으로 추천

**이유:**

1. ✅ 대부분의 사용자가 즉시 사용 가능 (Excel 동작)
2. ✅ 필요 시 vim 단축키 사용 가능 (점진적 학습)
3. ✅ 모든 사용자 그룹에 적합
4. ✅ 최고의 사용자 경험

**사용자 여정:**

1. 처음 사용: Excel 모드처럼 사용 (더블클릭, Enter, Tab)
2. 점진적 학습: `/` 검색, `hjkl` 이동 등 vim 단축키 발견
3. 고급 사용: 필요 시 Vim 모드로 전환

---

## 🎯 모드별 사용 시나리오

### Excel 모드

```
사용자: "Excel처럼 사용하고 싶어요"
→ Excel 모드 선택
→ 즉시 익숙한 방식으로 작업 시작
```

### VS Code 모드

```
사용자: "VS Code처럼 명령 팔레트를 쓰고 싶어요"
→ VS Code 모드 선택
→ Cmd+K로 모든 작업 수행
```

### Vim 모드

```
사용자: "vim처럼 빠르게 작업하고 싶어요"
→ Vim 모드 선택
→ Normal/Insert 모드로 빠른 작업
```

### 하이브리드 모드

```
사용자: "Excel처럼 쓰되, 필요하면 vim 단축키도 쓰고 싶어요"
→ 하이브리드 모드 (기본값)
→ Excel 방식으로 시작, 필요 시 vim 단축키 사용
```

---

## 📝 결론

**4가지 모드를 제공하여 모든 사용자 그룹을 만족시키는 것이 최선의 전략입니다.**

- **기본값**: 하이브리드 모드 (가장 넓은 사용자층)
- **선택권**: 사용자가 자신에게 맞는 모드 선택
- **학습 지원**: 점진적 학습 가능
